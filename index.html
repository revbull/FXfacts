<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <!-- Mobile-friendly viewport + safe-area -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>XMTrading おみくじプロモーション 2026</title>

  <!-- Faster font loading -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Consider self-hosting fonts later for maximum speed; keeping Google Fonts for now -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&family=Shippori+Mincho:wght@700&display=swap" rel="stylesheet">

  <style>
    :root{
      --jp-red:#BC002D;
      --jp-black:#1a1a1a;
      --bg-cream:#fcfaf7;
      --white:#fff;
      --shadow: 0 4px 10px rgba(0,0,0,0.06);
      --cta-shadow: 0 10px 20px rgba(188,0,45,0.25);
    }

    *{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}

    body{
      /* Fast fallback first, webfont second */
      font-family: system-ui, -apple-system, "Segoe UI", "Hiragino Kaku Gothic ProN",
                   "Noto Sans JP", "Yu Gothic", Meiryo, sans-serif;
      background-color: var(--bg-cream);
      color: var(--jp-black);
      line-height: 1.6;
      overflow-x: hidden;

      /* Replace fixed overlay texture with a light, cheap pattern */
      background-image:
        radial-gradient(rgba(0,0,0,0.03) 1px, transparent 1px);
      background-size: 10px 10px;
    }

    header{
      padding: 12px 16px;
      background: var(--white);
      display:flex;
      justify-content:center;
      border-bottom:2px solid var(--jp-red);
      position: sticky;
      top: 0;
      z-index: 50;
    }

    .hero{
      padding: 36px 16px 20px;
      text-align:center;
      background: var(--white);
      position:relative;
    }

    .hero-badge{
      background: var(--jp-red);
      color: var(--white);
      padding: 4px 12px;
      font-size: 0.85rem;
      font-weight: 800;
      display:inline-block;
      margin-bottom: 14px;
      border-radius: 999px;
    }

    h1{
      font-family: "Shippori Mincho", serif;
      font-size: 1.85rem;
      line-height: 1.25;
      margin-bottom: 10px;
      letter-spacing: 0.02em;
    }

    .prize-pool{
      font-size: 2.6rem;
      color: var(--jp-red);
      font-weight: 900;
      margin: 8px 0 6px;
      display:block;
    }

    .prize-list{
      padding: 16px;
      display:flex;
      flex-direction:column;
      gap: 12px;
    }

    .prize-item{
      background: var(--white);
      border: 1px solid #eee;
      padding: 16px;
      border-left: 5px solid var(--jp-red);
      display:flex;
      justify-content:space-between;
      align-items:center;
      box-shadow: var(--shadow);
      border-radius: 10px;
    }

    .tier-name{
      font-family: "Shippori Mincho", serif;
      font-size: 1.35rem;
      color: var(--jp-red);
    }
    .amount{font-size: 1.4rem;font-weight: 900}

    .bonus-section{
      background: #1a1a1a;
      color: var(--white);
      padding: 32px 16px;
      text-align:center;
      border-radius: 12px;
      margin: 16px;
      box-shadow: var(--shadow);
    }
    .bonus-val{
      font-size: 2.3rem;
      color: #ffbc00;
      font-weight: 900;
      margin: 10px 0 6px;
    }

    .features{
      padding: 28px 16px 140px; /* leave room for fixed CTA */
    }

    .feature-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 14px;
    }
    .feature-card{
      background: var(--white);
      padding: 14px;
      font-size: 0.9rem;
      border-radius: 10px;
      border: 1px solid #eee;
      box-shadow: var(--shadow);
    }
    .feature-card strong{
      color: var(--jp-red);
      display:block;
      margin-bottom: 6px;
      font-weight: 900;
    }

    footer{
      padding: 24px 16px 160px;
      font-size: 0.75rem;
      color: #777;
      text-align:center;
      line-height: 1.5;
    }

    /* Fixed CTA: safe-area aware and thumb-friendly */
    .cta-container{
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      padding: 12px 16px calc(12px + env(safe-area-inset-bottom, 0px));
      background: rgba(255,255,255,0.96);
      z-index: 100;
      border-top: 1px solid #eee;
    }

    /* Only enable blur where supported; blur is expensive on mobile GPUs */
    @supports ((-webkit-backdrop-filter: blur(6px)) or (backdrop-filter: blur(6px))) {
      .cta-container{
        background: rgba(255,255,255,0.90);
        -webkit-backdrop-filter: blur(6px);
        backdrop-filter: blur(6px);
      }
    }

    .cta-button{
      display:block;
      background: var(--jp-red);
      color: var(--white);
      text-align:center;
      text-decoration:none;
      padding: 16px 14px;
      border-radius: 12px;
      font-size: 1.15rem;
      font-weight: 900;
      box-shadow: var(--cta-shadow);
      will-change: transform; /* keep minimal */
    }

    /* Reduce animation load; keep a subtle effect */
    @media (prefers-reduced-motion: no-preference) {
      .cta-button{ animation: pulse 2.2s ease-in-out infinite; }
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.015); }
        100% { transform: scale(1); }
      }
    }

    /* Improve tap feel */
    .cta-button:active{ transform: scale(0.99); }

    /* Slightly larger typography on larger phones */
    @media (min-width: 390px){
      h1{ font-size: 2.0rem; }
      .prize-pool{ font-size: 2.8rem; }
    }
  </style>
</head>

<body>
  <header>
    <svg width="140" height="32" viewBox="0 0 480 110" xmlns="http://www.w3.org/2000/svg" aria-label="FXfacts ロゴ" role="img">
      <g transform="translate(0,10)">
        <rect x="0" y="30" width="14" height="40" rx="2" fill="#1dbf73"/>
        <rect x="22" y="10" width="14" height="60" rx="2" fill="#bc002d"/>
        <rect x="44" y="38" width="14" height="32" rx="2" fill="#ff4d4d"/>
        <path d="M-5 70 C30 20, 80 20, 95 5" fill="none" stroke="#2f6bff" stroke-width="6" stroke-linecap="round"/>
        <polygon points="95,5 82,8 90,18" fill="#2f6bff"/>
      </g>
      <text x="120" y="70" font-size="64" font-weight="800" fill="#1a1a1a">FXfacts</text>
    </svg>
  </header>

  <section class="hero">
    <span class="hero-badge">2026年 新春限定企画</span>
    <h1>XMTrading おみくじ<br>プロモーション</h1>
    <span class="prize-pool">$100,000</span>
    <p>取引するだけで、最大$5,000の現金が当たるチャンス！</p>
  </section>

  <div class="prize-list">
    <div class="prize-item">
      <div><span class="tier-name">大吉</span><br><small>5名様</small></div>
      <div class="amount">$5,000</div>
    </div>
    <div class="prize-item">
      <div><span class="tier-name">中吉</span><br><small>15名様</small></div>
      <div class="amount">$2,000</div>
    </div>
    <div class="prize-item">
      <div><span class="tier-name">小吉</span><br><small>80名様</small></div>
      <div class="amount">$600</div>
    </div>
  </div>

  <section class="bonus-section">
    <h3>新規口座開設ボーナス</h3>
    <div class="bonus-val">¥13,000</div>
    <p>入金不要！今すぐトレードを開始できます。</p>
  </section>

  <section class="features">
    <h3>信頼のスペック</h3>
    <div class="feature-grid">
      <div class="feature-card"><strong>レバレッジ</strong>最大1000倍</div>
      <div class="feature-card"><strong>サポート</strong>24時間 日本語</div>
      <div class="feature-card"><strong>ユーザー</strong>世界1000万人</div>
      <div class="feature-card"><strong>ライセンス</strong>11の規制機関</div>
    </div>
  </section>

  <footer>
    <p>リスク警告：取引には高いリスクが伴います。資金管理を徹底してください。</p>
    <p style="margin-top:10px;">&copy; 2026 FXfacts Affiliate Disclosure: リンク経由で報酬を得る場合があります。</p>
  </footer>

  <div class="cta-container">
    <a href="https://your-aff-link.com" class="cta-button" id="mainCTA" rel="noopener">今すぐ参加する（無料）</a>
  </div>

  <script>
    /**
     * PropellerAds clickid capture:
     * Target URL example: your-site.com/?clickid=${SUBID}
     * Appends as: aff_sub=<clickid>
     */
    (function () {
      const cta = document.getElementById("mainCTA");
      if (!cta) return;

      const clickId = new URLSearchParams(window.location.search).get("clickid");
      if (!clickId) return;

      // Robust URL building (handles existing query params safely)
      try {
        const url = new URL(cta.href, window.location.href);
        url.searchParams.set("aff_sub", clickId);
        cta.href = url.toString();
      } catch (e) {
        // Fallback to string concat if URL API fails (unlikely on modern mobile)
        const sep = cta.href.includes("?") ? "&" : "?";
        cta.href = cta.href + sep + "aff_sub=" + encodeURIComponent(clickId);
      }
    })();
  </script>
</body>
</html>
